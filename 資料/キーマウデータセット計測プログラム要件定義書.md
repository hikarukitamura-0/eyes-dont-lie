## ***キーマウデータセット計測プログラム要件定義書***



本プログラムは「Zone Key」プロジェクトにおける総合集中度測定システム「PC Edge Agent」で使用するデータセットをCSVファイルとして収集するためのプログラムである

特に, キーボード, マウスによるデータセットを収集する

本プログラムで計測するパラメータを以下に示す



###### **★1 打鍵ダイナミクス,Δtkey​ (打鍵間隔の平均),ms,**

キー入力の平均的な間隔。速さの指標。



###### **★2 σkey​ (打鍵間隔の標準偏差),ms,**

打鍵リズムの「ゆらぎ」。集中時は小さく、疲労時は大きくなる（ブレる）。



###### **★3 fmiss​ (ミスタッチ修正頻度),Count/5s,**

BackspaceやDeleteキーの押下回数。認知負荷・疲労の指標。

#### 

###### **★4 Dkey​ (打鍵密度),Keys/5s,**

単位時間あたりの総打鍵数。作業密度の指標。



###### **★5 マウス操作,Dmouse​ (マウス移動距離),Pixel/5s,**

マウスが移動した合計ピクセル数。操作の活発さの指標。



###### **★6 Cclick​ (クリック頻度),Count/5s,**

マウス（左右）のクリック回数。









========================  一応環境のパラメータ ============================

カテゴリ,パラメータ (特徴量),単位 / 形式,説明

環境,Tair​ (気温),°C,M5Stack ENVユニットから取得。

,Hrel​ (湿度),%,M5Stack ENVユニットから取得。

,Pabs​ (気圧),hPa,M5Stack ENVユニットから取得。

,Lnoise​ (騒音レベル),dB,（将来のマイク追加時）周辺の騒音レベル(プライバシーは？)。



これらはM5 stackの実装が完了してから実装する

=============================================================================







##### 

##### **CSVデータの中身**

1,timestamp,UTC (ISO 8601),データ集計が完了した時刻

2,delta\_t\_key\_avg (Δtkey​),ms,5秒間の打鍵間隔の平均

3,sigma\_key (σkey​),ms,5秒間の打鍵間隔の標準偏差（ゆらぎ）

4,f\_miss (fmiss​),Count,5秒間のBackspace/Deleteキー押下回数

5,d\_key (Dkey​),Keys,5秒間の総打鍵数

6,d\_mouse (Dmouse​),Pixel,5秒間のマウス移動合計距離

7,c\_click (Cclick​),Count,5秒間のマウス（左右）クリック回数





要件 ID,機能項目,詳細要件

キーイベント監視,pynputなどのライブラリを使用し、キーの押下と離鍵の正確なタイムスタンプ（ナノ秒単位）を取得する。

打鍵間隔計算,押下イベントに基づき、直前の押下イベントとの間隔 Δtkey​ を継続的に記録する。

マウスイベント監視,マウス移動、クリック（左右）イベントの座標とタイムスタンプを継続的に記録する。

文字内容の無視,取得したイベントからキーの内容（文字）は一切記録しない。メタデータ（時間、キー種別）のみを扱う。

